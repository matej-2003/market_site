{% extends "layout.html" %}
{% block style %}
<style>
    img[asset_image] {
        display: inline-block;
        height: 5em;
        width: auto;
    }

    img[company_logo_min] {
        display: inline-block;
        max-height: 1.7em;
    }
</style>
{% endblock %}
{% block content %}
<table tb>
    <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Seller</th>
        <th>Buyer</th>
        <th>Sale price</th>
        <th>Status</th>
        <th>Sale start</th>
        <th>Sale end</th>
    </tr>
    {% for sale in sales %}
        <tr>
            <td>
                <a href="/hard_asset/asset/{{ asset.id }}">
                    <img asset_image src="/static/hard_assets/{{ asset.get_images()[0] }}"
                    alt="{{ asset.name }} image">
                </a>
            </td>
            <td><a href="/hard_asset/asset/{{ asset.id }}">{{ asset.name }}</a></td>
            <td><a href="/user/{{ sale.get_seller().id }}">{{ sale.get_seller().username }}</a></td>
            <td><a href="/user/{{ sale.get_buyer().id }}">{{ sale.get_buyer().username }}</a></td>
            <td>${{ '{:,.2f}'.format(sale.price) }}</td>
            <td>
                {% if sale.status == 0 %}
                    FOR SALE
                {% else %}
                    SOLD
                {% endif %}
            </td>
            <td>{{ sale.sale_start.strftime('%d/%m/%Y %H:%M:%S') }}</td>
            <td>
                {% if sale.sale_end%}
                    {{ sale.sale_end.strftime('%d/%m/%Y %H:%M:%S') }}
                {% endif %}
            </td>
        </tr>
    {% endfor %}
</table>

{% endblock %}