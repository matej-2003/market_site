{% extends "layout.html" %}
{% block style %}
<style>
    img[company_logo_min] {
        display: inline-block;
        max-height: 1.7em;
    }
</style>
{% endblock %}
{% block content %}
<table tb>
    <tr>
        <th>Company logo</th>
        <th>Company Name</th>
        <th>Bonds value</th>
        <th>Bonds interest rate</th>
        <th>Bonds full value</th>
        <th>Number of bonds</th>
    </tr>
    {% for bond, company, bond_number in bonds.items %}
    <tr>
        <td>
            <a href="/assets/l/company/{{ company.id }}">
                <img company_logo_min src="/static/companies/{{ company.get_images()[0] }}"
                    alt="{{ company.name }} image">
            </a>
        </td>
        <td><a href="/assets/l/company/{{ company.id }}">{{ company.name }}</a></td>
        <td><span class="m">{{ "{:,.2f}".format(bond.value * bond_number) }}</span></td>
        <td><span class="p">{{ "{:,.2f}".format(bond.interest_rate) }}</span></td>
        <td><span class="m">{{ "{:,.2f}".format(bond.full_value() * bond_number) }}</span></td>
        <td>{{ bond_number }}</td>
    </tr>
    {% endfor %}
</table>
{% if bonds.pages > 1 %}
    <div class="pagination">
        {% if bonds.has_prev %}
            <a  href="{{ url_for('home.home_bonds', page=bonds.prev_num) }}">&laquo;</a>
        {% endif %}
        {% for page_num in bonds.iter_pages(left_edge=2, right_edge=2, left_current=2, right_current=2) %}
            {% if page_num %}
                {% if bonds.page == page_num %}
                    <a class="current" href="{{ url_for('home.home_bonds', page=page_num) }}">{{ page_num }}</a>
                {% else %}
                    <a href="{{ url_for('home.home_bonds', page=page_num) }}">{{ page_num }}</a>
                {% endif %}
            {% else %}
                ...
            {% endif %}
        {% endfor %}
        {% if bonds.has_next %}
            <a href="{{ url_for('home.home_bonds', page=bonds.next_num) }}">&raquo;</a>
        {% endif %}
    </div>
{% endif %}
{% endblock %}