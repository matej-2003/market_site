{% extends "layout.html" %}
{% block style %}
<style>
    img[asset_image] {
        display: inline-block;
        height: auto;
        width: 7em;
    }

    img[company_logo_min] {
        display: inline-block;
        max-height: 1.7em;
    }

    span.gray {
        color: #414141;
    }

    span.small {
        font-size: small;
    }
    
    .container {
        display: inline-grid;
        grid-template-columns: max-content max-content;
        border: 1px solid #c0c0c0;
        background-color: #c0c0c0;
        grid-gap: 1px;
    }

    .asset_item {
        display: flex;
        flex-direction: row;
        padding: 0.5em;
        gap: 0.5em;
        background-color: #fff;
    }
</style>
{% endblock %}
{% block content %}
<!-- <hr> -->

Hard assets: <a href="/home/assets/h">hard assets</a><br>
Liquid assets: <a href="/home/assets/l">liquid assets</a><br>

<h3>Hard assets</h3>
<div class="container">
    {% for asset in current_user.hard_assets %}
    <div class="asset_item">
        <div>
            <a href="/hard_asset/asset/{{ asset.id }}">
                <img asset_image src="/static/assets/hard/{{ asset.get_images()[0] }}" alt="{{ asset.name }} image">
            </a>
        </div>
        <div>
            <span class="gray">Name: </span><a href="/hard_asset/asset/{{ asset.id }}">{{ asset.name }}</a><br>
            <span class="gray">Value: </span><span class="m">{{ "{:,.2f}".format(asset.value) }}</span><br>
            <span class="gray">Type: </span><span class="small">{{ asset.type }}<br> </span>
            <span class="gray">Info: </span><span class="small">{{ asset.info }}<br></span>
            <span class="gray">Status: </span>
            {% if asset.is_on_sale() %}
                <span class="status small for_sale"></span>
            {% elif asset.is_on_auction() %}
                <span class="status small auction"></span>
            {% else %}
                <span class="status small not_for_sale"></span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
<!-- <table tb>
    <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Value</th>
        <th>Type</th>
        <th>Info</th>
    </tr>
    {% for asset in current_user.hard_assets %}
    <tr>
        <td>
            <a href="/hard_asset/asset/{{ asset.id }}"><img asset_image
                    src="/static/assets/hard/{{ asset.get_images()[0] }}" alt="{{ asset.name }} image"></a>
        </td>
        <td><a href="/hard_asset/asset/{{ asset.id }}">{{ asset.name }}</a></td>
        <td><span class="m">{{ asset.value }}</span></td>
        <td>{{ asset.type }}</td>
        <td>{{ asset.info }}</td>
    </tr>
    {% endfor %}
</table> -->
<br>
<h3>Company shares</h3>
<table tb>
    <tr>
        <th>Company logo</th>
        <th>Company Name</th>
        <th>Share value</th>
        <th>Number of shares</th>
    </tr>
    {% for share, company, share_number in current_user.shares() %}
    <tr>
        <td>
            <a href="/assets/l/company/{{ company.id }}">
                <img company_logo_min src="/static/companies/{{ company.get_images()[0] }}"
                    alt="{{ company.name }} image">
            </a>
        </td>
        <td><a href="/assets/l/company/{{ company.id }}">{{ company.name }}</a></td>
        <td><span class="m">{{ "{:,.2f}".format(company.share_value * share_number ) }}</span></td>
        <td>{{ share_number }}</td>
    </tr>
    {% endfor %}
</table>


<h3>Company bonds</h3>
<table tb>
    <tr>
        <th>Company logo</th>
        <th>Company Name</th>
        <th>Bonds value</th>
        <th>Bonds interest rate</th>
        <th>Bonds full value</th>
        <th>Number of bonds</th>
    </tr>
    {% for bond, company, bond_number in current_user.bonds() %}
    <tr>
        <td>
            <a href="/assets/l/company/{{ company.id }}">
                <img company_logo_min src="/static/companies/{{ company.get_images()[0] }}"
                    alt="{{ company.name }} image">
            </a>
        </td>
        <td><a href="/assets/l/company/{{ company.id }}">{{ company.name }}</a></td>
        <td><span class="m">{{ "{:,.2f}".format(bond.value * bond_number) }}</span></td>
        <td><span class="p">{{ "{:,.2f}".format(bond.interest_rate) }}</span></td>
        <td><span class="m">{{ "{:,.2f}".format(bond.full_value() * bond_number) }}</span></td>
        <td>{{ bond_number }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}